@using TodoList.MVC.ViewModels;
@model ToDoListViewModel

<li class="list-group-item todo-list d-flex justify-content-between align-items-center">
  <a class="todo-list-link" href="#" data-list-id="@Model.Id">
    @Model.Title
    @if (Model.ToDoListTasks.Count > 0)
    {
      <span class="badge custom-badge">@Model.ToDoListTasks.Count</span>
    }
  </a>
  <button type="button" class="btn btn-outline-secondary btn-sm" data-id="@Model.Id" onclick="editTitle('@Model.Id')">
    Edit
  </button>

  <form method="post" enctype="multipart/form-data" asp-controller="ToDoList" asp-action="Delete" asp-route-id="@Model.Id">
    @Html.AntiForgeryToken()
    <button type="submit" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#confirmDeleteModal" data-id="@Model.Id" onclick="showDeleteConfirmation(event)">
      Delete
    </button>
  </form>
  <div id="editTitleContainer_@Model.Id" style="position:absolute; left:0; display:none;">
    @await Html.PartialAsync("_EditTodoList", Model)
  </div>
</li>